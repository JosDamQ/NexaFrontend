<div class="container mt-4">
  <h2>Transacciones por Cliente</h2>

  <!-- Formulario -->
  <form (ngSubmit)="buscarTransacciones()" class="row g-3">
    <div class="col-md-3">
      <label class="form-label">Código Cliente</label>
      <input type="text" class="form-control" [(ngModel)]="codigoCliente" name="codigoCliente" required>
    </div>

    <div class="col-md-3">
      <label class="form-label">Fecha Inicio</label>
      <input type="date" class="form-control" [(ngModel)]="fechaInicio" name="fechaInicio" required>
    </div>

    <div class="col-md-3">
      <label class="form-label">Fecha Fin</label>
      <input type="date" class="form-control" [(ngModel)]="fechaFin" name="fechaFin" required>
    </div>

    <div class="col-md-3 d-flex align-items-end">
      <button type="submit" class="btn btn-primary w-100">Buscar</button>
    </div>
  </form>

  <hr />

  <!-- Resultados -->
  <div *ngIf="loading">Cargando transacciones...</div>

  <table *ngIf="transactions.length > 0" class="table table-striped mt-3">
    <thead>
      <tr>
        <th>Fecha</th>
        <th>Monto</th>
        <th>Código Operación</th>
        <th>Número Cuenta</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let tx of transactions">
        <td>{{ tx.fecha_transaccion }}</td>
        <td>{{ tx.monto }}</td>
        <td>{{ tx.codigo_operacion }}</td>
        <td>{{ tx.numero_cuenta }}</td>
      </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && transactions.length == 0" class="alert alert-info mt-3">
    No se encontraron transacciones.
  </div>
</div>
